<!DOCTYPE html>
<html>

<head>
  <title>Hubble Todo App</title>
</head>

<body>
  <h1>My Todo List</h1>
  <div x-data="{ todos: [{id: 'k02bxdioov', text: '1', done: false},
  {id: 'ih62ki0wvq', text: '2', done: false},
  {id: 'vludejms0s8', text: '3', done: false},
  {id: '54x9d3u9ryh', text: '4', done: false},
  {id: 'sxrvljuyntn', text: '5', done: false},
  {id: 'xpm4zb7ynbb', text: '6', done: false},
  {id: 'r1u0nntwavf', text: '7', done: false},
  {id: 'lktp1sc025h', text: '8', done: false},
  {id: 'yltvsvjp6bp', text: '9', done: false},
  {id: '3qd5hx4w59', text: '10', done: false},
  {id: 'jnhf12kia29', text: '11', done: false}], newTodo: '' }">
    <ul x-for="todo in todos" x-key="todo.id">
      <li>
        <input type="checkbox" x-model="todo.done">
        <span x-text="todo.text"></span>
        <button @click="todos = [...todos.splice(index, 1)]">Remove</button>
      </li>
    </ul>
    <input type="text" @keyup.enter="if (newTodo.trim()) {
      todos.push({
        id: Math.random().toString(36).substring(2, 15), // Generate a random ID
        text: newTodo,
        done: false,
      });
      newTodo = ''; // Clear the input field
    }" x-model="newTodo" placeholder="Add a new todo">
    <button @click="if (newTodo.trim()) {
      todos.push({
        id: Math.random().toString(36).substring(2, 15), // Generate a random ID
        text: newTodo,
        done: false,
      });
      newTodo = ''; // Clear the input field
    }">Add</button>
  </div>

  <script preload src="./exemple/hubble/src/runtime/index.js"></script>
  <script>

    function addTodo() {
      if (newTodo.trim()) {
        todos.push({
          id: Math.random().toString(36).substring(2, 15), // Generate a random ID
          text: newTodo,
          done: false,
        });
        newTodo = ''; // Clear the input field
      }
    }

    function removeTodo(id) {
      const index = todos.findIndex(todo => todo.id === id);
      if (index > -1) {
        todos.splice(index, 1);
      }
    }

    function toggleTodo(id) {
      const todo = todos.find(todo => todo.id === id);
      if (todo) {
        todo.done = !todo.done;
      }
    }

  </script>
</body>

</html>